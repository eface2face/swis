<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>jQuery UI Sortable - Default functionality</title>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
  <link rel="stylesheet" href="https://jqueryui.com/resources/demos/style.css">
  <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
  <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  <style>
	  html {
		  padding: 2px;
		  margin: 2px;
		  border: 2px solid yellow;
		  width: 90%;
	  }
  #sortable { list-style-type: none; margin: 0; padding: 0; width: 60%; }
  #sortable li { margin: 0 3px 3px 3px; padding: 0.4em; padding-left: 1.5em; font-size: 1.4em; height: 18px; }
  #sortable li span { position: absolute; margin-left: -1.3em; }
  
  </style>
  <style>
@media (min-width: 400px)  {
  .mod {
    background-color: red;
  }
}
@media (orientation: landscape)  {
  .mod {
    color: green;
  }
  div { padding: 20px;}
}
</style>
<style>
	.mod:after {
		content: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40"â€¦"50" cy="50" r="50" fill="none" stroke="#ededed" stroke-width="3"/></svg>');
	}
	@font-face {
    font-family: myFirstFont;
    src: url(sansation_light.woff);
}
	div { padding: 0px;}
@media (min-width: 400px)  {
  .del {
    background-color: yellow;
  }
}
</style>
  <script>
  $(function() {
    $( "#sortable" ).sortable();
    $( "#sortable" ).disableSelection();
  });
  </script>
  	<style>
		body {
			background-color: blue;
			color: white;
		}
		.red {
			color: red;
		}
		.scroll {
			width: 400px;
			height: 200px;
			overflow: scroll
			
		}
		div {
			border: 1px solid grey;
			margin-left: 5px;
		}
		div:hover {
			background-color: green;
		}
	</style>
</head>
<body>
	
<ul id="sortable">
  <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 1</li>
  <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 2</li>
  <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 3</li>
  <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 4</li>
  <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 5</li>
  <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 6</li>
  <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 7</li>
</ul>
 
 <script>
			//Dummy
			var b = 0;
		</script>
		<div class="0">
			<div class="0.0 mod">
				mod
				<div class="0.0.0 del">
					0.0.0 del
				</div>
				<div class="0.0.0">
					0.0.1
				</div>
			</div>
			<div class="0.1">
				<div class="0.1.0">
					0.1.0
				</div>
				<div class="0.1.1 del">
					0.1.1 del
				</div>
				<div class="0.1.2 del">
					0.1.2 del
				</div>
			</div>
		</div>
		<form>
		<textarea></textarea>
		<select ><option>a <option>b</select>
		<input type="text">
		<input type="checkbox"> check
		<input type="radio" name="a" value="1"> radio1
		<input type="radio" name="a" value="2"> radio2
		<button type="submit">NOOOO</button>
		</form>
		<div class="scroll">
		<div>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent a sagittis risus, quis blandit augue. Proin id ullamcorper magna. Pellentesque dignissim sem ut ipsum egestas, et tempus eros tempus. Nullam eu maximus purus. Proin scelerisque sit amet sapien vel viverra. Cras bibendum non sapien ut rhoncus. Quisque viverra justo in augue pulvinar vestibulum. Proin dignissim ultrices orci, finibus faucibus tellus ullamcorper id. Ut lacinia mi odio, sed luctus dolor posuere eget.</div>

		<div>Morbi faucibus rhoncus leo in fringilla. Maecenas eu metus libero. Pellentesque nec elit ipsum. Nam ac leo odio. Sed sit amet faucibus mauris, dignissim posuere turpis. Donec cursus feugiat erat, sed maximus metus mattis sed. Aenean ut mauris nec urna blandit venenatis. Duis pulvinar eros vel enim rhoncus elementum. Suspendisse faucibus sem vel facilisis hendrerit. Nam fringilla ac est vel mollis. Quisque volutpat finibus elit quis molestie. Aliquam erat volutpat. Mauris ornare ex orci, vel sagittis ipsum pellentesque a.</div>

		<div>Sed in ornare nunc, quis feugiat nisl. Aliquam erat volutpat. Phasellus rhoncus augue a mauris porta bibendum. Integer nec mauris id urna sodales bibendum vitae ut felis. Nunc auctor, leo quis gravida blandit, magna quam maximus ligula, vulputate semper ex lacus vitae neque. Donec ut iaculis diam. Duis consequat eleifend velit. Nunc id odio fringilla, porttitor leo non, blandit justo. Nullam finibus erat ligula, et faucibus risus ornare eget.</div>

		<div>In id elit metus. Aliquam cursus lacus ipsum, quis pellentesque quam viverra nec. Nulla facilisi. Donec vitae massa consequat quam gravida pellentesque vitae maximus est. Donec mollis egestas velit, quis ultrices augue semper et. Suspendisse potenti. Sed sit amet iaculis justo. Nulla consectetur id ante sed suscipit.</div>

		<div>Etiam placerat suscipit venenatis. Cras nibh felis, ornare vel erat non, sagittis egestas erat. Pellentesque ante mauris, ultricies id augue quis, eleifend consectetur neque. Sed non odio odio. Nullam scelerisque cursus nisi non auctor. Aenean et ultricies purus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Nulla ut lectus sapien.</div>
		</div>
</body>

</html>
<script src="swis.js"></script>
<script>
	//PUt incorrect tags on header
	document.head.appendChild(document.createElement("img"));
	
	document.body.insertBefore(document.createTextNode("third"),document.body.children[0]);
	document.body.insertBefore(document.createTextNode("second"),document.body.children[0]);
	document.body.insertBefore(document.createTextNode("first"),document.body.children[0]);
	
	document.querySelector("input[type='text']").value = "initial value via js";
	setTimeout (function () {
		var nodes = document.getElementsByClassName ("mod");
		for (var i=0;i<nodes.length;i++)
		{
			var el = document.createElement("div");
			el.innerHTML = "-added-";
			nodes[i].insertBefore(el, nodes[i].firstChild);
		}
	}, 5000);


	var transport = {
		send : function(data) {
			//Convert to json and send
			wnd.postMessage(data, "*");
		}
	};
	
	var wnd = window.open("viewer.html","viewer","width=400px");
	var observer = new swis.Observer(transport,{chunk:200});
	setTimeout(function(){
		observer.observe(".cursor");
	},2000);	

	window.addEventListener("message",function(message){
		transport.onmessage(message.data);
	});	

	var remoteCursor;
	observer.on("remotecursormove",function(data){
		//Check if first cursor
		if (!remoteCursor)
		{
			//Create new element
			remoteCursor = document.createElement("div");
			//Set class
			remoteCursor.className = "cursor";
			//Set absolute positioning
			remoteCursor.style["pointer-events"] = "none";
			remoteCursor.style["position"] = "absolute";
			remoteCursor.style["width"] = "40px";
			remoteCursor.style["height"] = "40px";
			remoteCursor.style["border"] = "0px";
			remoteCursor.style["z-index"] = "2147483647";
			//Set text
			remoteCursor.innerHTML = '<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 25.66 25.66" style="enable-background:new 0 0 25.66 25.66;" xml:space="preserve"><g><path style="fill:#030104;" d="M6.357,8.51C6.181,7.914,6.012,7.317,5.885,6.745C5.05,6.251,4.482,5.352,4.482,4.313 c0-1.563,1.271-2.833,2.833-2.833s2.833,1.271,2.833,2.833c0,0.215-0.029,0.422-0.074,0.623c0.271,0.597,0.49,1.269,0.682,1.952 c0.54-0.72,0.872-1.605,0.872-2.575C11.628,1.93,9.698,0,7.315,0S3.003,1.93,3.003,4.313C3.003,6.365,4.438,8.074,6.357,8.51z"/><path style="fill:#030104;" d="M3.378,18.721c1.063-1.149,2.256-0.699,3.853-0.456c1.372,0.211,2.723-0.174,2.633-0.915 c-0.142-1.199-0.342-1.735-0.797-3.288c-0.363-1.235-1.052-3.461-1.679-5.589c-0.84-2.847-1.083-4.169,0.035-4.499 c1.205-0.351,1.896,1.361,2.522,3.735c0.713,2.702,1.088,3.895,1.298,3.832c0.37-0.106-0.136-1.262,0.832-1.547 c1.21-0.352,1.444,0.594,1.783,0.499c0.339-0.102,0.224-1.06,1.189-1.342c0.97-0.28,1.457,0.914,1.857,0.795 c0.396-0.117,0.387-0.548,0.985-0.719c0.599-0.178,2.853,0.831,4.143,5.238c1.619,5.541-0.205,6.571,0.348,8.447l-7.227,2.748 c-0.585-1.407-2.397-1.511-4-2.408c-1.615-0.909-2.712-2.68-6.921-2.594C2.649,20.69,2.724,19.428,3.378,18.721z"/></g></svg>';

			//Insert into
			document.documentElement.appendChild(remoteCursor);
		}
		//Set new position
		remoteCursor.style["left"] = data.x + "px";
		remoteCursor.style["top"] =  data.y + "px";
	});
	
	
</script>